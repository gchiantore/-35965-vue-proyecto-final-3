"use strict";(self["webpackChunkproyecto_final_tres"]=self["webpackChunkproyecto_final_tres"]||[]).push([[871],{6871:function(t,i,o){o.r(i),o.d(i,{default:function(){return C}});var s=function(){var t=this,i=t._self._c;return i("div",[null===t.getUsuActivo?i("div",[i("LogInComponent")],1):i("div",{staticClass:"contenedor"},[i("div",{staticClass:"container content"},[i("h1",{staticClass:"titulo"},[t._v("Estas son nuestras pizzas!! ")]),i("ProductDetailComponent")],1)])])},e=[],r=o(408),a=o(3594),c=function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"card mb-3"},[i("div",{staticClass:"row g-0"},[i("div",{staticClass:"col-md-6"},[i("img",{staticClass:"card-img-top ratio ratio-4x3",attrs:{src:t.getProduct.imagen,alt:"..."}})]),i("div",{staticClass:"col-md-6 info-container"},[i("div",{staticClass:"card-body texto"},[i("div",{staticClass:"botones mb-5"},[i("div",{staticClass:"precio"},[i("h3",[t._v(t._s(t.getProduct.name))])]),i("div",{staticClass:"accion"},[i("i",{staticClass:"bi bi-arrow-left-circle-fill fs-2",on:{click:function(i){return t.volver()}}})])]),i("p",{staticClass:"card-text"},[t._v(t._s(t.getProduct.desc))])]),i("div",{staticClass:"card-body botones"},[i("div",{staticClass:"precio"},[i("h4",{staticClass:"card-text fw-bold text-danger"},[t._v("$ "+t._s(t.getProduct.precio))])]),i("div",{staticClass:"accion"},[i("button",{staticClass:"btn btn-success center",on:{click:function(i){return t.agregarCarrito(t.getProduct.id)}}},[i("i",{staticClass:"bi bi-cart"}),t._v(" Agregar")])])])])])])])},d=[],n=(o(7658),{name:"ProductDetailComponent",data(){return{products:Object,prod:Object,user:Object,itemcarrito:{userid:"",prodid:"",producto:"",cantidad:"",avatar:"",precio:0,importe:0},items:[]}},created(){this.getUserApi(),this.getProductosApi(),this.products=this.getListaProductos()},methods:{...(0,r.nv)("usersModule",["getUserApi"]),...(0,r.Se)("usersModule",["getUsuActivo"]),...(0,r.nv)("productsModule",["getProductosApi"]),...(0,r.Se)("productsModule",["getListaProductos"]),...(0,r.OI)("carritoModule",["poneritem"]),volver(){this.$router.push("/productos")},agregarCarrito(t){this.prod=this.products.find((i=>i.id===t)),this.itemcarrito.userid=this.user.id,this.itemcarrito.prodid=this.prod.id,this.itemcarrito.producto=this.prod.name,this.itemcarrito.cantidad=1,this.itemcarrito.precio=this.prod.precio,this.itemcarrito.avatar=this.prod.imagen,this.itemcarrito.importe=1*this.prod.precio;let i=[];if(null!==localStorage.getItem("items")&&localStorage.getItem("items")){i=JSON.parse(localStorage.getItem("items"));let t=i.findIndex((t=>t.prodid===this.itemcarrito.prodid));t<0?(i.push(this.itemcarrito),this.$swal.fire({position:"top-end",icon:"success",title:`Se agrego ${this.itemcarrito.producto} con exito al carrito`,showConfirmButton:!1,timer:1500}),this.poneritem()):(i[t].cantidad++,i[t].importe=i[t].precio*i[t].cantidad,this.$swal.fire({position:"top-end",icon:"success",title:`Se agrego una unidad mas de ${this.itemcarrito.producto} con exito al carrito`,showConfirmButton:!1,timer:1500})),localStorage.setItem("items",JSON.stringify(i))}else i.push(this.itemcarrito),this.$swal.fire({position:"top-end",icon:"success",title:`Se agrego ${this.itemcarrito.producto} con exito al carrito`,showConfirmButton:!1,timer:1500}),localStorage.setItem("items",JSON.stringify(i)),this.poneritem()}},computed:{getProduct(){const t=this.getListaProductos().filter((t=>t.id==this.$route.params.id));return t[0]}}}),l=n,u=o(1001),p=(0,u.Z)(l,c,d,!1,null,"7d623576",null),m=p.exports,h={name:"ProductosView",props:{paso:Boolean},components:{LogInComponent:a.Z,ProductDetailComponent:m},computed:{...(0,r.Se)("usersModule",["getUsuActivo"])}},g=h,v=(0,u.Z)(g,s,e,!1,null,"0bf248ae",null),C=v.exports}}]);
//# sourceMappingURL=871.f689c5d2.js.map