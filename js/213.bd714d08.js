"use strict";(self["webpackChunkproyecto_final_tres"]=self["webpackChunkproyecto_final_tres"]||[]).push([[213],{1213:function(t,i,s){s.r(i),s.d(i,{default:function(){return C}});var o=function(){var t=this,i=t._self._c;return i("div",[null===t.getUsuActivo?i("div",[i("LogInComponent")],1):i("div",{staticClass:"contenedor-prod"},[i("div",{staticClass:"container content"},[i("h1",{staticClass:"titulo"},[t._v("Estas son nuestras pizzas!! ")]),i("ListaProductosCompras")],1)])])},r=[],e=s(408),a=s(3594),c=function(){var t=this,i=t._self._c;return i("div",[i("div",{staticClass:"row row-cols-1 row-cols-md-4 g-4"},t._l(t.products,(function(s,o){return i("div",{key:o,staticClass:"col"},[i("div",{staticClass:"card h-100 w-100"},[i("img",{staticClass:"card-img-top ratio ratio-4x3",attrs:{src:s.imagen,alt:"..."}}),i("div",{staticClass:"card-body"},[i("h5",{staticClass:"card-title"},[t._v(t._s(s.name))]),i("p",{staticClass:"card-text text-center fw-bold text-danger"},[t._v("$ "+t._s(s.precio))]),i("div",{staticClass:"accion"},[i("button",{staticClass:"btn btn-success center",on:{click:function(i){return t.agregarCarrito(s.id)}}},[i("i",{staticClass:"bi bi-cart"}),t._v(" Agregar")]),i("i",{staticClass:"bi bi-info-circle-fill fs-2",on:{click:function(i){return t.cambiarRuta({path:`/productos/${s.id}`})}}})])])])])})),0)])},n=[],d=(s(7658),{name:"ListaProductosCompras",data(){return{products:Object,prod:Object,user:Object,itemcarrito:{userid:"",prodid:"",producto:"",cantidad:"",avatar:"",precio:0,importe:0},items:[]}},created(){this.getUserApi(),this.getProductosApi(),setTimeout((()=>{this.products=this.getListaProductos(),this.user=this.getUsuActivo()}),2e3)},methods:{...(0,e.nv)("usersModule",["getUserApi"]),...(0,e.Se)("usersModule",["getUsuActivo"]),...(0,e.nv)("productsModule",["getProductosApi"]),...(0,e.Se)("productsModule",["getListaProductos"]),...(0,e.OI)("carritoModule",["poneritem"]),cambiarRuta(t){this.$router.push(t)},agregarCarrito(t){this.prod=this.products.find((i=>i.id===t)),this.itemcarrito.userid=this.user.id,this.itemcarrito.prodid=this.prod.id,this.itemcarrito.producto=this.prod.name,this.itemcarrito.cantidad=1,this.itemcarrito.precio=this.prod.precio,this.itemcarrito.avatar=this.prod.imagen,this.itemcarrito.importe=1*this.prod.precio;let i=[];if(null!==localStorage.getItem("items")&&localStorage.getItem("items")){i=JSON.parse(localStorage.getItem("items"));let t=i.findIndex((t=>t.prodid===this.itemcarrito.prodid));t<0?(i.push(this.itemcarrito),this.$swal.fire({position:"top-end",icon:"success",title:`Se agrego ${this.itemcarrito.producto} con exito al carrito`,showConfirmButton:!1,timer:1500}),this.poneritem()):(i[t].cantidad++,i[t].importe=i[t].precio*i[t].cantidad,this.$swal.fire({position:"top-end",icon:"success",title:`Se agrego una unidad mas de ${this.itemcarrito.producto} con exito al carrito`,showConfirmButton:!1,timer:1500})),localStorage.setItem("items",JSON.stringify(i))}else i.push(this.itemcarrito),this.$swal.fire({position:"top-end",icon:"success",title:`Se agrego ${this.itemcarrito.producto} con exito al carrito`,showConfirmButton:!1,timer:1500}),localStorage.setItem("items",JSON.stringify(i)),this.poneritem()}}}),u=d,l=s(1001),p=(0,l.Z)(u,c,n,!1,null,"a13fce32",null),m=p.exports,h={name:"ProductosView",props:{paso:Boolean},components:{LogInComponent:a.Z,ListaProductosCompras:m},computed:{...(0,e.Se)("usersModule",["getUsuActivo"])}},g=h,f=(0,l.Z)(g,o,r,!1,null,"28d32f8b",null),C=f.exports}}]);
//# sourceMappingURL=213.bd714d08.js.map