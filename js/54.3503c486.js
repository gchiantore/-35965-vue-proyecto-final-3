"use strict";(self["webpackChunkproyecto_final_tres"]=self["webpackChunkproyecto_final_tres"]||[]).push([[54],{9054:function(t,e,s){s.r(e),s.d(e,{default:function(){return C}});var a=function(){var t=this,e=t._self._c;return e("div",[null===t.getUsuActivo?e("div",[e("LogInComponent")],1):e("div",{staticClass:"contenedor"},[e("div",{staticClass:"container content"},[e("h1",{staticClass:"titulo"},[t._v("Lista de Ordenes Generadas")]),e("ListaOrdenes")],1)])])},o=[],r=s(408),i=s(3594),n=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container"},[e("div",{staticClass:"accordion",attrs:{id:"accordionExample"}},[e("div",{staticClass:"accordion-item"},[t._m(0),e("div",{staticClass:"accordion-collapse collapse show",attrs:{id:"collapseOne","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample"}},[e("div",{staticClass:"accordion-body"},[e("div",{staticClass:"card col-md-12 mb-5"},[e("div",{staticClass:"card-header"},[t._v(" Ordenes ")]),e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table align-middle table-hover"},[t._m(1),e("tbody",t._l(t.ordenesPendientes,(function(s,a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(new Date(s.fecha).toLocaleDateString()))]),e("td",[t._v(t._s(s.username.toUpperCase()))]),e("td",{staticClass:"text-center"},[t._v("$ "+t._s(s.total.toFixed(2)))]),e("td",{staticClass:"text-center"},[e("i",{staticClass:"bi bi-truck",on:{click:function(e){return t.enviarOrden(s)}}}),t._v(" | "),e("i",{staticClass:"bi bi-x-circle",on:{click:function(e){return t.cancelarOrden(s)}}}),t._v(" | "),e("i",{staticClass:"bi bi-eye",on:{click:function(e){return t.verProductosEnOrden(s.id)}}})])])})),0)])])])])])]),e("div",{staticClass:"accordion-item"},[t._m(2),e("div",{staticClass:"accordion-collapse collapse",attrs:{id:"collapseTwo","aria-labelledby":"headingTwo","data-bs-parent":"#accordionExample"}},[e("div",{staticClass:"accordion-body"},[e("div",{staticClass:"card col-md-12 mb-5"},[e("div",{staticClass:"card-header"},[t._v(" Ordenes ")]),e("div",{staticClass:"card-body table-responsive"},[e("table",{staticClass:"table align-middle table-hover"},[t._m(3),e("tbody",t._l(t.ordenesEntregadas,(function(s,a){return e("tr",{key:a},[e("th",{attrs:{scope:"row"}},[t._v(t._s(s.id))]),e("td",[t._v(t._s(new Date(s.fecha).toLocaleDateString()))]),e("td",[t._v(t._s(s.username.toUpperCase()))]),e("td",{staticClass:"text-end"},[t._v("$ "+t._s(s.total.toFixed(2)))]),e("td",{staticClass:"text-center"},[e("i",{staticClass:"bi bi-cart-check"}),t._v(" | "),e("i",{staticClass:"bi bi-eye",on:{click:function(e){return t.verProductosEnOrden(s.id)}}})])])})),0)])])])])])])])])},c=[function(){var t=this,e=t._self._c;return e("h2",{staticClass:"accordion-header headerColor",attrs:{id:"headingOne"}},[e("button",{staticClass:"accordion-button",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"}},[t._v(" Ordenes Pendiente de EnvÃ­o ")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Usuario")]),e("th",{attrs:{scope:"col"}},[t._v("Total Orden")]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Acciones")])])])},function(){var t=this,e=t._self._c;return e("h2",{staticClass:"accordion-header",attrs:{id:"headingTwo"}},[e("button",{staticClass:"accordion-button collapsed",attrs:{type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"}},[t._v(" Ordenes Entregadas ")])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{attrs:{scope:"col"}},[t._v("#")]),e("th",{attrs:{scope:"col"}},[t._v("Fecha")]),e("th",{attrs:{scope:"col"}},[t._v("Usuario")]),e("th",{attrs:{scope:"col"}},[t._v("Total Orden")]),e("th",{staticClass:"text-center",attrs:{scope:"col"}},[t._v("Acciones")])])])}],d={name:"ListaOrdenes",data(){return{carrito:Object}},methods:{...(0,r.Se)("ordersModule",["getListaOrdenes"]),...(0,r.nv)("ordersModule",["putOrdenApi","getOrdenApi"]),verProductosEnOrden(t){let e={};this.getListaOrdenes(),e=this.getListaOrdenes().filter((e=>e.id===t)),this.$swal.fire({title:"Orden #"+e[0].id+" de "+e[0].username,icon:"info",html:this.construirHtml(e[0].items),showCloseButton:!0,focusConfirm:!1,confirmButtonText:"OK!",confirmButtonAriaLabel:"Thumbs up, great!"})},enviarOrden(t){t.pendiente=!1,this.putOrdenApi(t),this.$swal.fire({position:"top-end",icon:"success",title:`La Orden ${t.id} a sedo envia a ${t.username}.`,showConfirmButton:!1,timer:1500})},cancelarOrden(t){this.$swal.fire({title:"Estas Seguro??",text:"Se va a cancelar la orden "+t.id+", de "+t.username,icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si!, Cancelala"}).then((e=>{e.isConfirmed&&(t.activa=!1,this.putOrdenApi(t),this.$swal.fire("la Orden "+t.id+".","Ha sido cancelada","success"))}))},construirHtml(t){let e='<div class="items-cart">    <table class="table">        <thead>            <tr>                <th scope="col">#</th>                <th scope="col">Producto</th>                <th scope="col">Cantidad</th>                <th scope="col">Precio</th>                <th scope="col">Importe</th>               <th scope="col"></th>            </tr>        </thead>        <tbody>';for(let s=0;s<t.length;s++)e=e+'             <tr>                <th scope="row">'+t[s].prodid+"</th>                <td>"+t[s].producto+'</td>                <td class="text-center">'+t[s].cantidad+'</td>                <td class="text-end">'+parseInt(t[s].precio).toFixed(2).toLocaleString()+'</td>                <td class="text-end">'+parseInt(t[s].importe).toFixed(2).toLocaleString()+"</td>           </tr>";return e+="        </tbody>    </table></div>",e}},computed:{ordenesPendientes(){this.getListaOrdenes();const t=this.getListaOrdenes().filter((t=>!0===t.pendiente&&!0===t.activa));return t},ordenesEntregadas(){this.getListaOrdenes();const t=this.getListaOrdenes().filter((t=>!1===t.pendiente));return t}}},l=d,u=s(1001),h=(0,u.Z)(l,n,c,!1,null,"6f4a21f7",null),p=h.exports,v={name:"OrdenesView",components:{ListaOrdenes:p,LogInComponent:i.Z},computed:{...(0,r.Se)("usersModule",["getUsuActivo"])}},_=v,b=(0,u.Z)(_,a,o,!1,null,"3ce0116d",null),C=b.exports}}]);
//# sourceMappingURL=54.3503c486.js.map