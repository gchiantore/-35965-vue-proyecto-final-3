"use strict";(self["webpackChunkproyecto_final_tres"]=self["webpackChunkproyecto_final_tres"]||[]).push([[361],{3361:function(t,o,s){s.r(o),s.d(o,{default:function(){return A}});var e=function(){var t=this,o=t._self._c;return o("div",[null===t.getUsuActivo?o("div",[o("LogInComponent")],1):o("div",{staticClass:"container content"},[o("h1",{staticClass:"titulo"},[t._v("Alta, Baja y Modificacion de Productos")]),o("AbmProductosComponent")],1)])},r=[],i=s(408),c=s(3594),a=function(){var t=this,o=t._self._c;return o("div",{staticClass:"col-md-10"},[t.formulario?o("div",{staticClass:"mb-5"},[o("div",{staticClass:"card"},[o("div",{staticClass:"card-header"},[t._v(" "+t._s(t.tituloformulario)+" ")]),o("div",{staticClass:"card-body"},[o("product-form",{attrs:{boton:t.textosubmit,modo:t.modo,produ:t.id},on:{enviar:function(o){t.formulario=o}}})],1)])]):o("div",[o("div",{staticClass:"btnPosition"},[o("button",{staticClass:"btn btn-success mb-2",on:{click:function(o){return t.nuevoProducto()}}},[t._v("Agregar Producto")])]),o("div",{staticClass:"card mb-5"},[o("div",{staticClass:"card-header"},[t._v(" Productos ")]),o("div",{staticClass:"card-body table-responsive"},[o("table",{staticClass:"table align-middle table-hover"},[t._m(0),o("tbody",t._l(t.actualizaLista,(function(s,e){return o("tr",{key:e},[o("th",{attrs:{scope:"row"}},[t._v(t._s(s.id))]),o("td",[o("img",{staticClass:"avatar",attrs:{src:s.imagen,alt:""}})]),o("td",[t._v(t._s(s.name))]),o("td",[t._v(t._s(s.precio))]),o("td",[o("i",{staticClass:"bi bi-trash3-fill",on:{click:function(o){return t.eliminarProducto(s.id)}}}),t._v(" | "),o("i",{staticClass:"bi bi-pencil-square",on:{click:function(o){return t.modificarProducto(s.id)}}})])])})),0)])])])])])},d=[function(){var t=this,o=t._self._c;return o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("#")]),o("th",{attrs:{scope:"col"}},[t._v("Avatar")]),o("th",{attrs:{scope:"col"}},[t._v("Nombre")]),o("th",{attrs:{scope:"col"}},[t._v("Precio")]),o("th",{attrs:{scope:"col"}},[t._v("Acciones")])])])}],u=function(){var t=this,o=t._self._c;return o("div",{staticClass:"container"},[0!=t.errores.length?o("div",{staticClass:"alert alert-danger"},[t._v(" "+t._s(t.showErrors)+" ")]):t._e(),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-3"}),o("div",{staticClass:"col-md-6"},[o("form",{staticClass:"row g-3 needs-validation",attrs:{id:"productform",action:""},on:{submit:function(o){return o.preventDefault(),t.formValidate.apply(null,arguments)}}},[o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"form-label",attrs:{for:"producto"}},[t._v("Nombre del Producto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.objproducto.name,expression:"objproducto.name"}],staticClass:"form-control",attrs:{type:"text",id:"producto",value:""},domProps:{value:t.objproducto.name},on:{input:function(o){o.target.composing||t.$set(t.objproducto,"name",o.target.value)}}})]),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"form-label",attrs:{for:"descrip"}},[t._v("Descripcion del Producto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.objproducto.desc,expression:"objproducto.desc"}],staticClass:"form-control",attrs:{type:"text",id:"descrip",value:""},domProps:{value:t.objproducto.desc},on:{input:function(o){o.target.composing||t.$set(t.objproducto,"desc",o.target.value)}}})]),o("div",{staticClass:"col-md-12"},[o("label",{staticClass:"form-label",attrs:{for:"precio"}},[t._v("precio del Producto")]),o("input",{directives:[{name:"model",rawName:"v-model",value:t.objproducto.precio,expression:"objproducto.precio"}],staticClass:"form-control",attrs:{type:"text",id:"precio",value:""},domProps:{value:t.objproducto.precio},on:{input:function(o){o.target.composing||t.$set(t.objproducto,"precio",o.target.value)}}})]),o("h5",[t._v("Activo")]),o("div",{staticClass:"row"},[o("div",{staticClass:"form-check col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.objproducto.activo,expression:"objproducto.activo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"afirmativo",value:"true",checked:""},domProps:{checked:t._q(t.objproducto.activo,"true")},on:{change:function(o){return t.$set(t.objproducto,"activo","true")}}}),o("label",{staticClass:"form-check-label",attrs:{for:"avirmativo"}},[t._v(" SI ")])]),o("div",{staticClass:"form-check col-md-4"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.objproducto.activo,expression:"objproducto.activo"}],staticClass:"form-check-input",attrs:{type:"radio",name:"flexRadioDefault",id:"negativo",value:"false"},domProps:{checked:t._q(t.objproducto.activo,"false")},on:{change:function(o){return t.$set(t.objproducto,"activo","false")}}}),o("label",{staticClass:"form-check-label",attrs:{for:"negativo"}},[t._v(" NO ")])])]),o("div",{staticClass:"col-12"},[o("button",{staticClass:"btn btn-danger",on:{click:function(o){return t.btnCancelar()}}},[t._v("Volver")]),o("button",{staticClass:"btn btn-success",attrs:{type:"submit"}},[t._v(t._s(t.boton))])])])]),o("div",{staticClass:"col-md-3"})])])},n=[],l=(s(7658),{name:"ProductForm",props:{boton:String,modo:Number,produ:String},data(){return{producto:Object,objproducto:{id:"",name:"",desc:"",precio:0,activo:!1},listaproducto:Object,errores:[]}},created(){2==this.modo&&(this.getProductosApi(),this.producto=this.getListaProductos().find((t=>t.id===this.produ)),this.objproducto.name=this.producto.name,this.objproducto.desc=this.producto.desc,this.objproducto.precio=this.producto.precio,this.objproducto.activo=this.producto.activo,this.objproducto.id=this.producto.id)},methods:{...(0,i.Se)("productsModule",["getListaProductos"]),...(0,i.nv)("productsModule",["getProductosApi","deleteProductosApi","putProductosApi","postProductosApi"]),formValidate(){if(this.objproducto.name&&this.objproducto.desc&&this.objproducto.precio)return 2==this.modo?(this.putProductosApi(this.objproducto),this.$swal.fire({position:"top-end",icon:"success",title:"El producto fue modificado con exito",showConfirmButton:!1,timer:1500}),document.getElementById("productform").reset(),Object.assign(this.$data,this.$options.data())):(this.postProductosApi(this.objproducto),this.$swal.fire({position:"top-end",icon:"success",title:"El producto fue agregado con exito",showConfirmButton:!1,timer:1500}),document.getElementById("productform").reset(),Object.assign(this.$data,this.$options.data())),!0;this.objproducto.name||this.errores.push("El nombre del producto es necesario "),this.objproducto.desc||this.errores.push("Debes seleccionar un TamaÃ±o"),this.objproducto.precio||this.errores.push("Debes elegir un tipo de Ridding"),setTimeout((()=>{this.errores=[]}),3e3)},btnCancelar(){this.$emit("enviar",!1)}},computed:{showErrors(){let t=this.errores.join(" <---\x3e ");return t}}}),p=l,m=s(1001),v=(0,m.Z)(p,u,n,!1,null,null,null),b=v.exports,h={name:"AbmProductosComponent",components:{ProductForm:b},data(){return{products:Object,formulario:!1,tituloformulario:"",textosubmit:"",modo:1,id:"",veces:0}},created(){this.getProductosApi()},methods:{...(0,i.Se)("productsModule",["getListaProductos"]),...(0,i.nv)("productsModule",["getProductosApi","deleteProductosApi"]),nuevoProducto(){this.formulario=!0,this.tituloformulario="Nuevo Producto",this.textosubmit="Agregar Producto",this.modo=1},modificarProducto(t){this.formulario=!0,this.tituloformulario="Editar Producto",this.textosubmit="Guardar Cambios",this.modo=2,this.id=t},eliminarProducto(t){this.$swal.fire({title:"Estas Seguro??",text:"Se va a eliminar el producto "+t+", esto es irreversible",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Si!, Borralo"}).then((o=>{o.isConfirmed&&(this.deleteProductosApi(t),this.$swal.fire("El producto "+t+".","Ha sido eliminado","success"))}))}},computed:{actualizaLista(){return this.getProductosApi(),this.getListaProductos()}}},f=h,C=(0,m.Z)(f,a,d,!1,null,"d5d239c6",null),g=C.exports,_={name:"ProductosView",components:{AbmProductosComponent:g,LogInComponent:c.Z},computed:{...(0,i.Se)("usersModule",["getUsuActivo"])}},P=_,j=(0,m.Z)(P,e,r,!1,null,"77aade2c",null),A=j.exports}}]);
//# sourceMappingURL=361.14af1cee.js.map